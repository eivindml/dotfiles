{"version":3,"file":"vscodesettings.js","sourceRoot":"","sources":["vscodesettings.ts"],"names":[],"mappings":"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","sourcesContent":["import * as ts from \"typescript\";\n\nimport * as path from \"path\";\nimport * as fs from \"fs\";\n\nimport { Options } from \"../\";\nimport { getConfigFileName, parseJSON } from \"../utils\";\n\n// https://code.visualstudio.com/Docs/customization/userandworkspace\ninterface VSCodeSettings {\n    \"typescript.format.insertSpaceAfterCommaDelimiter\": boolean;\n    \"typescript.format.insertSpaceAfterSemicolonInForStatements\": boolean;\n    \"typescript.format.insertSpaceBeforeAndAfterBinaryOperators\": boolean;\n    \"typescript.format.insertSpaceAfterKeywordsInControlFlowStatements\": boolean;\n    \"typescript.format.insertSpaceAfterFunctionKeywordForAnonymousFunctions\": boolean;\n    \"typescript.format.insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis\": boolean;\n    \"typescript.format.insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets\": boolean;\n    \"typescript.format.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces\": boolean;\n    \"typescript.format.insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces\": boolean;\n    \"typescript.format.insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces\": boolean;\n    \"typescript.format.insertSpaceBeforeFunctionParenthesis\": boolean;\n    \"typescript.format.placeOpenBraceOnNewLineForFunctions\": boolean;\n    \"typescript.format.placeOpenBraceOnNewLineForControlBlocks\": boolean;\n\n    // NOTE https://github.com/Microsoft/vscode/issues/10296\n    // baseIndentSize, insertSpaceAfterConstructor, insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces\n    // insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces, insertSpaceAfterTypeAssertion, insertSpaceBeforeFunctionParenthesis\n}\n\nexport default function makeFormatCodeOptions(fileName: string, opts: Options, formatSettings: ts.FormatCodeSettings): ts.FormatCodeSettings {\n\n    let baseDir = opts.baseDir ? path.resolve(opts.baseDir) : path.dirname(path.resolve(fileName));\n    let configFileName = getConfigFileName(baseDir, \"./.vscode/settings.json\");\n    if (!configFileName) {\n        return formatSettings;\n    }\n    if (opts.verbose) {\n        console.log(`read ${configFileName} for ${fileName}`);\n    }\n\n    let config: VSCodeSettings = parseJSON(fs.readFileSync(configFileName, \"utf-8\"));\n    if (config[\"typescript.format.insertSpaceAfterCommaDelimiter\"] != null) {\n        formatSettings.insertSpaceAfterCommaDelimiter = config[\"typescript.format.insertSpaceAfterCommaDelimiter\"];\n    }\n    if (config[\"typescript.format.insertSpaceAfterSemicolonInForStatements\"] != null) {\n        formatSettings.insertSpaceAfterSemicolonInForStatements = config[\"typescript.format.insertSpaceAfterSemicolonInForStatements\"];\n    }\n    if (config[\"typescript.format.insertSpaceBeforeAndAfterBinaryOperators\"] != null) {\n        formatSettings.insertSpaceBeforeAndAfterBinaryOperators = config[\"typescript.format.insertSpaceBeforeAndAfterBinaryOperators\"];\n    }\n    if (config[\"typescript.format.insertSpaceAfterKeywordsInControlFlowStatements\"] != null) {\n        formatSettings.insertSpaceAfterKeywordsInControlFlowStatements = config[\"typescript.format.insertSpaceAfterKeywordsInControlFlowStatements\"];\n    }\n    if (config[\"typescript.format.insertSpaceAfterFunctionKeywordForAnonymousFunctions\"] != null) {\n        formatSettings.insertSpaceAfterFunctionKeywordForAnonymousFunctions = config[\"typescript.format.insertSpaceAfterFunctionKeywordForAnonymousFunctions\"];\n    }\n    if (config[\"typescript.format.insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis\"] != null) {\n        formatSettings.insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis = config[\"typescript.format.insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis\"];\n    }\n    if (config[\"typescript.format.insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets\"] != null) {\n        formatSettings.insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets = config[\"typescript.format.insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets\"];\n    }\n    if (config[\"typescript.format.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces\"] != null) {\n        formatSettings.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces = config[\"typescript.format.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces\"];\n    }\n    if (config[\"typescript.format.insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces\"] != null) {\n        formatSettings.insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces = config[\"typescript.format.insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces\"];\n    }\n    if (config[\"typescript.format.insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces\"] != null) {\n        formatSettings.insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces = config[\"typescript.format.insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces\"];\n    }\n    if (config[\"typescript.format.insertSpaceBeforeFunctionParenthesis\"] != null) {\n        formatSettings.insertSpaceBeforeFunctionParenthesis = config[\"typescript.format.insertSpaceBeforeFunctionParenthesis\"];\n    }\n    if (config[\"typescript.format.placeOpenBraceOnNewLineForFunctions\"] != null) {\n        formatSettings.placeOpenBraceOnNewLineForFunctions = config[\"typescript.format.placeOpenBraceOnNewLineForFunctions\"];\n    }\n    if (config[\"typescript.format.placeOpenBraceOnNewLineForControlBlocks\"] != null) {\n        formatSettings.placeOpenBraceOnNewLineForControlBlocks = config[\"typescript.format.placeOpenBraceOnNewLineForControlBlocks\"];\n    }\n\n    return formatSettings;\n}\n"]}